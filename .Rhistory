dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = 2) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10))
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -2) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10))
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10))
?scale_y_continuous
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .45)) +
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, 45)) +
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, 45)) +
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10)) +
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10))
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10))
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .5))
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .45))
ds_request %>%
dplyr::group_by(client_usu_role) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
ggplot(aes(x = client_usu_role,
y = prop,
fill = client_usu_role)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10))
ds_request %>%
dplyr::group_by(client_usu_role) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
ggplot(aes(x = client_usu_role,
y = prop,
fill = client_usu_role)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .6))
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .43))
ds_request %>%
dplyr::group_by(client_dept) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_dept)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .42))
ds_request %>%
dplyr::group_by(client_dept, client_usu_role, ) %>%
dplyr::tally() %>%
dplyr::group_by(client_dept) %>%
dplyr::mutate(total = sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::mutate(client_dept = client_dept %>%
forcats::fct_reorder(-total)) %>%
ggplot(aes(x = client_dept,
y = prop,
fill = client_usu_role)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = client_usu_role),
position = position_stack(vjust = 0.5),
vjust = "center",
size = 3.5) +
labs(x = NULL,
y = NULL,
fill = NULL) +
theme_bw() +
theme(legend.position = c(1, 1),
legend.justification = c(1.1, 1.1),
legend.background = element_rect(color = "black")) +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10))
ds_request %>%
dplyr::group_by(client_usu_role) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
ggplot(aes(x = client_usu_role,
y = prop,
fill = client_usu_role)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .6))
ds_request %>%
dplyr::group_by(client_usu_role) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
ggplot(aes(x = client_usu_role,
y = prop,
fill = client_usu_role)) +
geom_col(color = "black",
alpha = .75) +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = 2) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .6))
ds_request %>%
dplyr::group_by(client_usu_role) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
ggplot(aes(x = client_usu_role,
y = prop,
fill = client_usu_role)) +
geom_col(color = "black",
alpha = .75) +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = 2) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .20*(0:10),
limits = c(0, .6))
ds_request
ds_request %>%
dplyr::group_by(proj_type) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(proj_type = proj_type %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = proj_type,
y = prop,
fill = proj_type)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .42))
ds_request %>%
dplyr::group_by(proj_type) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup()
ds_request %>%
dplyr::group_by(proj_type) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(proj_type = proj_type %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = proj_type,
y = prop,
fill = proj_type)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .42))
ds_request %>%
dplyr::group_by(proj_type) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(proj_type = proj_type %>%
forcats::fct_reorder(-n))
ds_request %>%
dplyr::group_by(proj_type) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(proj_type = proj_type %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = proj_type,
y = prop,
fill = proj_type)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .5))
ds_request %>%
dplyr::group_by(proj_type) %>%
dplyr::tally() %>%
dplyr::mutate(prop = n/sum(n)) %>%
dplyr::ungroup() %>%
dplyr::mutate(proj_type = proj_type %>%
forcats::fct_reorder(-n)) %>%
ggplot(aes(x = proj_type,
y = prop,
fill = proj_type)) +
geom_col(color = "black") +
geom_text(aes(label = scales::percent(prop),
y = prop,
group = 1),
vjust = -1) +
labs(x = NULL,
y = NULL) +
theme_bw() +
theme(legend.position = "none") +
scale_y_continuous(labels = scales::percent_format(),
breaks = .10*(0:10),
limits = c(0, .47))
ds_raw
library(powerlmm)
shiny_powerlmm()
library(powerlmm)
shiny_powerlmm()
